<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="525px" preserveAspectRatio="none" style="width:305px;height:525px;background:#FFFFFF;" version="1.1" viewBox="0 0 305 525" width="305px" zoomAndPan="magnify"><defs/><g><ellipse cx="139.9194" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125.5039" x="77.1675" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105.5039" x="87.1675" y="71.6016">User triggers scan</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="241.6719" x="19.0835" y="104.1328"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="221.6719" x="29.0835" y="125.7344">ServiceWorker retrieves active tab URL</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152.1406" x="63.8491" y="158.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132.1406" x="73.8491" y="179.8672">Check MongoDB cache</text><polygon fill="#F1F1F1" points="118.9883,212.3984,160.8506,212.3984,172.8506,224.3984,160.8506,236.3984,118.9883,236.3984,106.9883,224.3984,118.9883,212.3984" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41.8623" x="118.9883" y="228.5557">cached?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.4829" x="89.5054" y="222.0781">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.5835" x="172.8506" y="222.0781">no</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="106.0449" x="11" y="246.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="86.0449" x="21" y="268">Load metadata</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="157.543" x="137.0449" y="246.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="137.543" x="147.0449" y="268">Invoke Express /lookup</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148.5898" x="141.5215" y="300.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128.5898" x="151.5215" y="322.1328">Scrape and parse data</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="101.4805" x="165.0762" y="354.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81.4805" x="175.0762" y="376.2656">Store in cache</text><polygon fill="#F1F1F1" points="139.9194,394.7969,151.9194,406.7969,139.9194,418.7969,127.9194,406.7969,139.9194,394.7969" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="226.4492" x="26.6948" y="438.7969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="206.4492" x="36.6948" y="460.3984">Send data back to content script/UI</text><ellipse cx="139.9194" cy="503.9297" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="139.9194" cy="503.9297" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="30" y2="50"/><polygon fill="#181818" points="135.9194,40,139.9194,50,143.9194,40,139.9194,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="84.1328" y2="104.1328"/><polygon fill="#181818" points="135.9194,94.1328,139.9194,104.1328,143.9194,94.1328,139.9194,98.1328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="138.2656" y2="158.2656"/><polygon fill="#181818" points="135.9194,148.2656,139.9194,158.2656,143.9194,148.2656,139.9194,152.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="215.8164" x2="215.8164" y1="280.5313" y2="300.5313"/><polygon fill="#181818" points="211.8164,290.5313,215.8164,300.5313,219.8164,290.5313,215.8164,294.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="215.8164" x2="215.8164" y1="334.6641" y2="354.6641"/><polygon fill="#181818" points="211.8164,344.6641,215.8164,354.6641,219.8164,344.6641,215.8164,348.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="106.9883" x2="64.0225" y1="224.3984" y2="224.3984"/><line style="stroke:#181818;stroke-width:1;" x1="64.0225" x2="64.0225" y1="224.3984" y2="246.3984"/><polygon fill="#181818" points="60.0225,236.3984,64.0225,246.3984,68.0225,236.3984,64.0225,240.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="172.8506" x2="215.8164" y1="224.3984" y2="224.3984"/><line style="stroke:#181818;stroke-width:1;" x1="215.8164" x2="215.8164" y1="224.3984" y2="246.3984"/><polygon fill="#181818" points="211.8164,236.3984,215.8164,246.3984,219.8164,236.3984,215.8164,240.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="64.0225" x2="64.0225" y1="280.5313" y2="406.7969"/><line style="stroke:#181818;stroke-width:1;" x1="64.0225" x2="127.9194" y1="406.7969" y2="406.7969"/><polygon fill="#181818" points="117.9194,402.7969,127.9194,406.7969,117.9194,410.7969,121.9194,406.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="215.8164" x2="215.8164" y1="388.7969" y2="406.7969"/><line style="stroke:#181818;stroke-width:1;" x1="215.8164" x2="151.9194" y1="406.7969" y2="406.7969"/><polygon fill="#181818" points="161.9194,402.7969,151.9194,406.7969,161.9194,410.7969,157.9194,406.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="192.3984" y2="212.3984"/><polygon fill="#181818" points="135.9194,202.3984,139.9194,212.3984,143.9194,202.3984,139.9194,206.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="418.7969" y2="438.7969"/><polygon fill="#181818" points="135.9194,428.7969,139.9194,438.7969,143.9194,428.7969,139.9194,432.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="139.9194" x2="139.9194" y1="472.9297" y2="492.9297"/><polygon fill="#181818" points="135.9194,482.9297,139.9194,492.9297,143.9194,482.9297,139.9194,486.9297" style="stroke:#181818;stroke-width:1;"/><!--SRC=[DOyzRyCm34Ht_OeRaocxFHJenn0WNH8OdHdvOWjEHO5YZVRVLqxHZS1xX-DL5_FG3PK6jpHDj8eQ9VUXkz3M5FcXjZHgR9mhAoHwMWcNAuRpgOalC-E2TysJlZuZIfpPXtJ3xd6EJtlup8pT3-i-0Dr9PSGdNKPnwGFlbTXbVR1ZNdKXthwBiLOSxghBL-atT8acXP0yeeYrp5zy8wv6fFpVpJocspQWgPk4gxG7NH4rExEtXPQA7uPZ7wfh-GK0]--></g></svg>